{% extends 'mainBase.html' %}
{% load static %}

{% block title %}Rehome Your Dog{% endblock %}

{% block content %}
<div class="container my-4">
    <div class="card shadow p-4">
        <h2 class="text-center text-danger fw-bold">ğŸ¾ Edit Form ğŸ¾</h2>
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            <!-- Dogâ€™s Information -->
            <h4 class="mt-4 text-secondary fw-bold">ğŸ¶ Dogâ€™s Information</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="dogName" class="form-label">Dog's Name</label>
                        <input type="text" class="form-control" id="dogName" name="dog_name" value="{{ data.dog_name }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="breed" class="form-label">Breed</label>
                        <input type="text" class="form-control" id="breed" name="breed" value="{{ data.breed }}" required>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="age" class="form-label">Age</label>
                        <input type="text" class="form-control" id="age" name="age" value="{{ data.age }}" required>
                    </div>
                    <div class="mb-3">
                        <label for="gender" class="form-label">Gender</label>
                        <select class="form-select" id="gender" name="gender">
                            <option {% if data.gender == "Male" %}selected{% endif %}>Male</option>
                            <option {% if data.gender == "Female" %}selected{% endif %}>Female</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Health & Behavior Sections Side by Side -->
            <div class="row">
                <!-- Health & Medical -->
                <div class="col-md-6">
                    <h4 class="mt-4 text-secondary fw-bold">ğŸ©º Health & Medical</h4>
                    <div class="mb-3">
                        <label for="vaccinated" class="form-label">Vaccinated?</label>
                        <select class="form-select" id="vaccinated" name="vaccinated">
                            <option {% if data.vaccinated == "Yes" %}selected{% endif %}>Yes</option>
                            <option {% if data.vaccinated == "No" %}selected{% endif %}>No</option>
                        </select>
                    </div>
                </div>

                <!-- Behavior & Compatibility -->
                <div class="col-md-6">
                    <h4 class="mt-4 text-secondary fw-bold">ğŸ• Behavior & Compatibility</h4>
                    <div class="mb-3">
                        <label for="training" class="form-label">House-Trained?</label>
                        <select class="form-select" id="training" name="training">
                            <option {% if data.training == "Yes" %}selected{% endif %}>Yes</option>
                            <option {% if data.training == "No" %}selected{% endif %}>No</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Rehoming Details -->
            <h4 class="mt-4 text-secondary fw-bold">ğŸ“œ Rehoming Details</h4>
            <div class="mb-3">
                <label for="reason" class="form-label">Reason for Rehoming</label>
                <textarea class="form-control" id="reason" name="reason" rows="3" required>{{ data.reason }}</textarea>
            </div>

            <!-- Upload Photos -->
            <h4 class="mt-4 text-secondary fw-bold">ğŸ“¸ Upload Photos</h4>
            <div class="mb-3">
                <label for="dogImage" class="form-label">Upload Images</label>
                {% if data.dog_image %}
                    <div class="mb-2">
                        <img src="{{ data.dog_image.url }}" alt="Current Dog Image" style="width: 150px; height: 150px; object-fit: cover;">
                        <p>Current Image</p>
                    </div>
                {% endif %}
                <input type="file" class="form-control" id="dogImage" name="dog_image">
            </div>

            <!-- Submit Button -->
            <div class="text-center mt-4">
                <button type="submit" class="btn btn-danger btn-lg w-100">Submit Form ğŸ¶</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
